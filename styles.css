/* ============================================================================
   styles.css — LUXURY EDITION
   - Один файл
   - Структура:
     1. Переменные
     2. Типографика (импорт шрифтов)
     3. Базовые сбросы и layout
     4. Фон, grain noise, particles container
     5. Параллакс (CSS-строение, классы для JS)
     6. Компоненты: header, nav, карточки, таблицы, калькулятор и т.д.
     7. Премиум эффекты: gold shimmer, glow, cursor Saturn
     8. Анимации, intersection hooks (классы .in-view)
     9. Adaptive / Media queries (мобильное отключение параллакса)
   ============================================================================
*/

/* ----------------------------------------
   1. БАЗОВЫЕ ПЕРЕМЕННЫЕ
   ---------------------------------------- */
:root{
  /* Brand */
  --gold: #d4af37;
  --gold-rgb: 212,175,55;
  --bg-deep: #0b0b0b;        /* основной фон */
  --bg-deep-2: #0d0d0d;
  --surface: #0f0f10;
  --muted: rgba(255,255,255,0.75);
  --muted-2: rgba(255,255,255,0.55);
  --glass: rgba(255,255,255,0.03);
  --radius: 12px;
  --transition-default: 300ms cubic-bezier(.2,.9,.2,1);
  --max-width: 1200px;

  /* Parallax defaults (used by JS or inline styles) */
  --parallax-strength: 0.35; /* recommended 0.3-0.5 */
  --particles-speed-mult: 0.32;

  /* Accessibility */
  --contrast-high: rgba(255,255,255,0.95);
}

/* ----------------------------------------
   2. ТИПОГРАФИКА (fonts import)
   ---------------------------------------- */
/* Google fonts import (Libre Baskerville + Inter) */
@import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Inter:wght@300;400;600;700&display=swap');

*,
*::before,*::after{box-sizing:border-box}
html,body{height:100%}
html{
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  scroll-behavior:smooth;
  background-color:var(--bg-deep);
}

/* Body */
body{
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:var(--contrast-high);
  line-height:1.6;
  font-size:16px;
  margin:0;
  -webkit-user-select:none; /* content-protection as before */
  user-select:none;
  background-image: linear-gradient(180deg, rgba(255,255,255,0.01) 0%, transparent 100%);
}

/* Headings (aristocratic) */
h1,h2,h3,h4,h5,h6{
  font-family: "Libre Baskerville", "Playfair Display", serif;
  font-weight:400;
  margin:0 0 .6rem 0;
  color:var(--contrast-high);
  -webkit-font-smoothing:antialiased;
}

/* Utility */
.container{max-width:var(--max-width);margin:0 auto;padding:0 1.5rem}
.text-muted{color:var(--muted-2)}
.small{font-size:.9rem;opacity:.9}

/* ----------------------------------------
   3. RESET / LAYOUT HELPERS
   ---------------------------------------- */
a{text-decoration:none;color:inherit;transition:all var(--transition-default)}
img{max-width:100%;height:auto;display:block;-webkit-user-drag:none;user-drag:none}
ul{list-style:none;margin:0;padding:0}
.flex{display:flex}.items-center{align-items:center}.justify-center{justify-content:center}

/* ----------------------------------------
   4. BACKGROUND + GRAIN (texture) + PARTICLES
   ---------------------------------------- */

/* Grain texture: lightweight SVG-data fallback + CSS blending (perf-friendly) */
:root{
  --grain-url: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><filter id='g'><feTurbulence baseFrequency='0.9' numOctaves='1' stitchTiles='stitch' result='t'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.07'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23g)' opacity='0.06' /></svg>");
}

/* main video/particles container (fixed) — particles.js attaches canvas inside */
.video-container{
  position:fixed; inset:0; height:100vh; width:100vw; z-index:-5;
  background:
    radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.02) 0%, transparent 30%),
    linear-gradient(135deg, #070708 0%, var(--bg-deep) 30%, var(--bg-deep-2) 100%);
  background-size:cover;
  overflow:hidden;
  transform-style:preserve-3d;
  will-change:transform;
}

/* subtle grain layer on top of background (non-blocking pointer-events) */
.video-container::before{
  content:"";
  position:absolute; inset:0;
  background-image:var(--grain-url);
  mix-blend-mode:overlay;
  opacity:.06;
  pointer-events:none;
}

/* particles canvas (particles.js) — ensure it sits within parallax context */
#particles-js{position:absolute; inset:0; z-index:-4; pointer-events:none; will-change:transform}

/* overlay for depth/vignette */
.video-overlay{
  position:absolute; inset:0; z-index:-3; pointer-events:none;
  background: linear-gradient(180deg, rgba(0,0,0,0.12) 0%, rgba(0,0,0,0.6) 100%);
  will-change:opacity, transform;
}

/* Gold static frame (should stay static) */
body::before{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  border:2px solid rgba(var(--gold-rgb),0.14);
  box-shadow:inset 0 0 40px rgba(var(--gold-rgb),0.05);
  z-index:9999;
}

/* ----------------------------------------
   5. PARALLAX LAYERS (CSS structure; JS updates transforms)
   ---------------------------------------- */
/* Approach:
   - Each section that should have parallax gets .parallax-section
   - Inside it, create elements with .parallax-layer and data-depth attribute (0..1)
   - JS should update transform: translate3d(0, calc(scroll*depth), 0)
   - CSS here prepares performant properties (will-change, transform-style, perspective)
*/

/* container for parallax sections */
.parallax-section{
  position:relative;
  overflow:visible;
  transform-style:preserve-3d;
  perspective:1200px; /* subtle 3D perspective */
  will-change:transform;
}

/* layer base (text/content layer is depth ~1.0) */
.parallax-layer{
  position:relative;
  transform-origin:center center;
  will-change:transform;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
}

/* helper classes for typical depths (JS can set inline transforms or use data-depth attr) */
.parallax-layer[data-depth="0.3"]{ /* background-ish (particles) */
  z-index:-2;
}
.parallax-layer[data-depth="0.5"]{ z-index:-1; } /* mid layer (decorations) */
.parallax-layer[data-depth="1.0"]{ z-index:10; } /* foreground (text/cards) */

/* For performant parallax movement use translate3d on .parallax-layer (JS updates) */
/* Example CSS animation fallback for browsers without JS — very subtle */
.parallax-fallback{
  transform:translate3d(0,0,0);
}

/* Disable parallax transforms on small screens via media queries (performance + UX) */
@media (max-width: 768px){
  .parallax-section{perspective:600px}
  .parallax-layer{transition:none !important; transform:none !important}
}

/* ----------------------------------------
   6. HEADER / NAV
   ---------------------------------------- */
header{
  position:fixed; top:0; left:0; right:0; z-index:1000;
  background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.22));
  backdrop-filter: blur(8px);
  padding:.9rem 1.5rem;
  border-bottom:1px solid rgba(var(--gold-rgb),0.12);
}
.navbar-wrapper{max-width:var(--max-width);margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:.5rem}
.navbar-top .logo a{
  font-family:"Libre Baskerville", serif;
  font-weight:400;
  letter-spacing:2px;
  color:var(--contrast-high);
  display:inline-block;
  font-size:1.05rem;
  transition: transform 280ms ease, text-shadow 280ms ease;
}
.navbar-top .logo a .text-gold{color:var(--gold)}
.navbar-top .logo a:hover{transform:scale(1.03); text-shadow:0 6px 30px rgba(var(--gold-rgb),0.28)}

/* nav menu */
#nav-menu{display:flex;gap:1.6rem;align-items:center;justify-content:center}
.nav-link{color:var(--muted);font-size:.95rem;padding:.25rem 0;position:relative;white-space:nowrap}
.nav-link:hover{color:var(--gold);text-shadow:0 0 12px rgba(var(--gold-rgb),0.18)}
.nav-link::after{content:"";position:absolute;bottom:-6px;left:0;height:2px;width:0;background:linear-gradient(90deg,var(--gold),#ffd973);transition:width var(--transition-default)}
.nav-link:hover::after{width:100%}

/* mobile specifics */
.menu-toggle{display:none}
@media (max-width:768px){ .menu-toggle{display:block} }

/* ----------------------------------------
   7. HERO / LOGO
   ---------------------------------------- */
#home{min-height:100vh;display:flex;align-items:center;justify-content:center;padding-top:90px;position:relative;z-index:10}
.site-title{
  font-family:"Libre Baskerville", serif;
  font-weight:400;
  font-size:clamp(48px, 10vw, 132px);
  line-height:1;
  letter-spacing:.16em;
  text-transform:uppercase;
  background: linear-gradient(90deg, var(--gold), #ffdca8 40%, var(--gold));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  text-shadow:0 4px 30px rgba(var(--gold-rgb),0.07);
  opacity:0;
  transform:translateY(20px) scale(.98);
  transition:opacity 700ms ease, transform 700ms ease;
  will-change:opacity, transform;
}

/* class applied by IntersectionObserver */
.in-view.site-title{opacity:1;transform:translateY(0) scale(1)}

/* main logo image (if you use image instead of text) */
#main-logo{
  max-width:640px;width:85%;height:auto;opacity:0;transform:scale(.96) translateY(8px);
  transition:transform 600ms cubic-bezier(.2,.9,.2,1), opacity 600ms ease;
  will-change:transform, opacity, filter;
  filter: drop-shadow(0 0 18px rgba(var(--gold-rgb),0.5));
}
.in-view #main-logo{opacity:1;transform:scale(1) translateY(0)}

/* shimmer line below title */
.site-title::after{
  content:"";display:block;height:2px;width:6rem;margin:18px auto 0;background:linear-gradient(90deg,transparent,var(--gold),transparent);
  filter:drop-shadow(0 0 12px rgba(var(--gold-rgb),0.12));
  transform-origin:center;
  animation: shimmer 3.5s linear infinite;
}
@keyframes shimmer{0%{transform:translateX(-20%)}50%{transform:translateX(20%)}100%{transform:translateX(-20%)}}

/* ----------------------------------------
   8. CARDS / EXPERTISE / ABOUT
   ---------------------------------------- */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(var(--gold-rgb),0.09);
  border-radius:var(--radius);
  padding:1.25rem;
  box-shadow: 0 12px 30px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
  transition: transform 320ms cubic-bezier(.2,.9,.2,1), box-shadow 320ms ease, border-color 320ms ease;
  will-change:transform, box-shadow;
}
.card:hover{ transform:translateY(-10px) scale(1.01); box-shadow: 0 28px 60px rgba(0,0,0,0.7), 0 0 30px rgba(var(--gold-rgb),0.08); border-color: rgba(var(--gold-rgb),0.2) }

/* About quote specialty */
.philosophy-quote{
  max-width:880px;margin:0 auto;padding:1.5rem;border-left:5px solid var(--gold);background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  font-style:italic;border-radius:6px;color:var(--muted);
  box-shadow:0 8px 30px rgba(0,0,0,0.6), 0 0 18px rgba(var(--gold-rgb),0.04);
}

/* expertise grid */
.expertise-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.25rem}
.expertise-card{padding:1.4rem;display:flex;flex-direction:column;min-height:220px}
.expertise-icon{font-size:32px;color:var(--gold);margin-bottom:.6rem;text-shadow:0 0 14px rgba(var(--gold-rgb),0.12)}

/* read-more button */
.read-more{
  border-radius:8px;padding:.8rem 1rem;border:1px solid rgba(var(--gold-rgb),0.12);
  background:linear-gradient(180deg, rgba(var(--gold-rgb),0.05), rgba(0,0,0,0.35));
  color:var(--gold);font-weight:600;cursor:pointer;transition:all var(--transition-default);
}
.read-more:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(var(--gold-rgb),0.12)}

/* popup modal (expertise) */
.popup-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);z-index:2000;align-items:center;justify-content:center}
.popup-modal .popup-content{max-width:720px;padding:2rem;border-radius:10px;background:linear-gradient(180deg, rgba(6,6,6,0.96), rgba(12,12,12,0.98));border:1px solid rgba(var(--gold-rgb),0.12)}

/* ----------------------------------------
   9. ESG CALCULATOR & TABLES
   ---------------------------------------- */
.calculator-container{max-width:880px;margin:0 auto;padding:1.6rem;border-radius:10px;border:1px solid rgba(var(--gold-rgb),0.08);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.2))}
.ratings-table{width:100%;border-collapse:collapse}
.ratings-table th, .ratings-table td{padding:.85rem;text-align:left;border-bottom:1px solid rgba(var(--gold-rgb),0.06)}
.ratings-table th{color:var(--gold);font-weight:600}

/* download button */
.download-button{display:inline-flex;align-items:center;gap:.6rem;padding:.7rem 1rem;border-radius:8px;border:1px solid var(--gold);background:linear-gradient(90deg, rgba(var(--gold-rgb),0.06), rgba(var(--gold-rgb),0.12));color:var(--gold);cursor:pointer}
.download-button:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(var(--gold-rgb),0.12)}

/* ----------------------------------------
   10. CONTACTS / FORM
   ---------------------------------------- */
.contact-form-container{max-width:640px;margin:0 auto;padding:1.6rem;border-radius:10px;border:1px solid rgba(var(--gold-rgb),0.06);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.22))}
.form-group label{display:block;margin-bottom:.5rem;color:var(--gold)}
.form-group input,.form-group textarea{width:100%;padding:.8rem;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(var(--gold-rgb),0.05);color:var(--muted);transition:box-shadow 200ms}
.form-group input:focus,.form-group textarea:focus{outline:none;box-shadow:0 6px 24px rgba(var(--gold-rgb),0.07);border-color:rgba(var(--gold-rgb),0.14);color:var(--contrast-high)}

/* submit */
.submit-btn{padding:.8rem 1.2rem;border-radius:8px;background:linear-gradient(90deg, rgba(var(--gold-rgb),0.08), rgba(var(--gold-rgb),0.16));border:1px solid var(--gold);color:var(--gold);cursor:pointer}
.submit-btn:hover{transform:translateY(-3px)}

/* ----------------------------------------
   11. FOOTER
   ---------------------------------------- */
footer{background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.9));padding:3rem 1.5rem;border-top:1px solid rgba(var(--gold-rgb),0.06)}
.footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.2rem;max-width:var(--max-width);margin:0 auto;padding:0 1.5rem}
.footer-column h3{color:var(--gold);margin-bottom:.6rem}

/* ----------------------------------------
   12. PREMIUM EFFECTS: GOLD SHIMMER, GLOW
   ---------------------------------------- */

/* gold shimmer text helper */
.gold-shimmer{
  background: linear-gradient(90deg, rgba(255,255,255,0.08) 0%, rgba(var(--gold-rgb),1) 50%, rgba(255,255,255,0.12) 75%);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation: goldShift 4s linear infinite;
  background-size:200% 100%;
}
@keyframes goldShift{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}

/* soft glow for cards and surfaces */
.soft-glow{box-shadow:0 12px 40px rgba(var(--gold-rgb),0.06), inset 0 1px 0 rgba(255,255,255,0.015)}

/* ----------------------------------------
   13. CUSTOM CURSOR: SATURN (styles only)
   ---------------------------------------- */
/* NOTE: JS needed to create .custom-cursor element and toggle .active on hover targets */
.custom-cursor{
  position:fixed;left:50%;top:50%;width:28px;height:28px;pointer-events:none;z-index:12000;transform:translate(-50%,-50%);transition:transform 120ms linear;
}
.custom-cursor::before{
  content:"";position:absolute;left:50%;top:50%;width:16px;height:16px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #ffd700, var(--gold));
  transform:translate(-50%,-50%);box-shadow:0 0 12px rgba(var(--gold-rgb),0.9), inset -2px -2px 6px rgba(0,0,0,0.3);
}
.custom-cursor::after{
  content:"";position:absolute;left:50%;top:50%;width:36px;height:10px;border-radius:50%;
  border:2px solid rgba(var(--gold-rgb),0.5);transform:translate(-50%,-50%) rotateX(68deg) rotateZ(-16deg);
  box-shadow:0 0 8px rgba(var(--gold-rgb),0.35);animation:saturnSpin 8s linear infinite;
}
@keyframes saturnSpin{0%{transform:translate(-50%,-50%) rotateX(68deg) rotateZ(-16deg)}50%{transform:translate(-50%,-50%) rotateX(68deg) rotateZ(-20deg)}100%{transform:translate(-50%,-50%) rotateX(68deg) rotateZ(-16deg)}}
.custom-cursor.active{transform:translate(-50%,-50%) scale(1.7)}
/* ensure text inputs have default cursor (override by JS) */
input,textarea,select{cursor:text !important}

/* ----------------------------------------
   14. ANIMATIONS & INTERSECTION OBSERVER HOOKS (CSS only)
   ---------------------------------------- */
/* Use JS IntersectionObserver to add .in-view to elements to trigger these transitions */
.fade-up{opacity:0;transform:translateY(18px);transition:opacity 520ms var(--transition-default), transform 520ms var(--transition-default)}
.fade-up.in-view{opacity:1;transform:translateY(0)}
.fade-left{opacity:0;transform:translateX(-14px);transition:opacity 520ms var(--transition-default), transform 520ms var(--transition-default)}
.fade-left.in-view{opacity:1;transform:translateX(0)}
.scale-in{opacity:0;transform:scale(.98);transition:opacity 520ms var(--transition-default), transform 520ms var(--transition-default)}
.scale-in.in-view{opacity:1;transform:scale(1)}

/* subtle section appearance */
section{padding:5.5rem 0;position:relative;z-index:2}

/* ----------------------------------------
   15. PERFORMANCE TIPS — will-change usage
   ---------------------------------------- */
.parallax-layer,
#particles-js,
.video-overlay,
.site-title,
#main-logo{
  will-change:transform,opacity;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
}

/* ----------------------------------------
   16. ADAPTIVE / MEDIA QUERIES (disable heavy effects on mobile)
   ---------------------------------------- */
@media (max-width: 1024px){
  .site-title{font-size:clamp(36px,8vw,72px)}
  .video-container{background-size:cover}
}
@media (max-width: 768px){
  /* turn off parallax transforms entirely for mobile to ensure UX & perf */
  .parallax-section{perspective:600px}
  .parallax-layer{transform:none !important;will-change:auto !important}
  #particles-js{opacity:.9} /* particles visible but not moved */
  body::before{display:none} /* hide frame on tiny screens (optional) */
  .video-overlay{background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.6))}
}

/* ----------------------------------------
   17. SMALL TOUCHES & HELPERS
   ---------------------------------------- */
/* Section divider ornament */
.section-title{display:inline-block;font-size:clamp(1.8rem,4vw,2.6rem);margin-bottom:1rem}
.section-title::after{content:"";display:block;height:3px;width:4.2rem;margin:.75rem auto 0;background:linear-gradient(90deg,var(--gold),#ffdca8);box-shadow:0 6px 24px rgba(var(--gold-rgb),0.06)}

/* tiny utility */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* ----------------------------------------
   18. USAGE NOTES (short)
   ----------------------------------------
   - Parallax: add class .parallax-section to sections (#about #expertise #methodology)
     inside them wrap layers like:
       <div class="parallax-section">
         <div class="parallax-layer" data-depth="0.35"> <!-- background decor/particles --> </div>
         <div class="parallax-layer" data-depth="0.90"> <!-- mid content --> </div>
         <div class="parallax-layer" data-depth="1.0"> <!-- foreground content --> </div>
       </div>
   - JS should on scroll set transform on each .parallax-layer using depth:
       translateY(calc(-scrollY * (1 - depth) * var(--parallax-strength)))
     For particles, use depth ~0.32 and multiplier var(--particles-speed-mult)
   - IntersectionObserver: toggle .in-view on elements to trigger fade-up/scale-in
   - Custom cursor: create an element <div class="custom-cursor"></div> and move it with mouse
   - Particles.js: attach to #particles-js; update its canvas transform in same scroll handler
   - Mobile: parallax is disabled at <=768px
   ---------------------------------------- */

/* End of file — Luxury Edition styles.css */
